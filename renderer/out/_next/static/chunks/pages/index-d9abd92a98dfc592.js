(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9536:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(4086)}])},4086:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return k}});var s=l(4246),i=l(7378),n=l(8038),a=l.n(n),r=function(e){var t=e.children,l=e.title,i=void 0===l?"This is the default title":l;return(0,s.jsxs)("div",{className:" bg-stone-900 text-white",children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:i}),(0,s.jsx)("meta",{charSet:"utf-8"}),(0,s.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),t]})},c=l(9722),o=l(169),u=l(8539),f=l(7228),x=l(4566),d=l(8639),m=function(e){var t=e/86400,l=24*(t-Math.floor(t)),s=Math.floor(l),i=60*(l-s),n=Math.floor(i),a=60*(i-n);return[s,n,Math.floor(a)].map((function(e){return e<10?"0".concat(e):e})).filter((function(e,t){return"00"!==e||t>0})).join(":")},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,l=Math.floor(e/1073741824),s=Math.floor(e/1048576),i=Math.floor(e/1024),n=Math.floor(e),a=[l,s,i,n],r=["GB","MB","KB","B"],c=a.findIndex((function(e){return e>0})),o=a[c],u=r[c];return"".concat(o.toFixed(t)," ").concat(u)},p=function(e){var t,l,n=e.file,a=(e.i,e.setShowPlayer),r=(0,i.useState)(null===n||void 0===n?void 0:n.type.includes("video")),m=r[0],p=r[1],h=(0,d.n)(),j=h.setCurrentPlaying,N=h.currentPlaying,y=h.playerState,g=h.setPlayerState,b=(null===(t=N.file)||void 0===t?void 0:t.name)===n.name,w=function(){if(b)g((0,o.Z)((0,c.Z)({},y),{isPlaying:!y.isPlaying}));else{a(!0);var e=URL.createObjectURL(n);j({file:n,url:e})}};return(0,i.useEffect)((function(){n.type.includes("video")&&p(!0)}),[n]),(0,s.jsxs)("div",{onDoubleClick:w,className:"cursor-pointer mt-4 flex items-center justify-between\n     py-2 px-3 hover:bg-stone-800 ".concat(b&&"bg-stone-800"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[m?(0,s.jsx)(f.Laf,{className:"text-2xl"}):(0,s.jsx)(x.ibD,{className:"text-2xl"}),(0,s.jsxs)("div",{className:"ml-2 flex flex-col",children:[(0,s.jsx)("p",{className:"'text-xs font-semibold",children:n.name}),(0,s.jsxs)("p",{className:"text-xs font-semibold",children:["size: ",v(n.size)]})]})]}),(0,s.jsx)("button",{onClick:w,className:"ml-3 rounded-full border-2 p-1",children:(null===(l=N.file)||void 0===l?void 0:l.name)===n.name&&y.isPlaying?(0,s.jsx)(u.xBX,{className:"text-3xl"}):(0,s.jsx)(u.PHf,{className:"text-3xl"})})]})},h=l(6677),j=function(){var e=(0,i.useState)(!1),t=(e[0],e[1],(0,i.useState)(""));t[0],t[1],(0,h.useRouter)();return(0,s.jsxs)("div",{className:"sm:px-11 z-[60] flex h-[60px] w-full items-center justify-between bg-stone-800 p-3 shadow-lg",children:[(0,s.jsx)("div",{className:"flex ",children:(0,s.jsxs)("div",{className:"flex items-center text-pink-600",children:[(0,s.jsx)(u.PHf,{className:"three:text-[3em] text-3xl"}),(0,s.jsx)("p",{className:"three:text-2xl font-extrabold",children:"1Play"})]})}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.Lok,{className:"cursor-pointer rounded-full bg-stone-900 p-2 text-4xl text-gray-700"}),(0,s.jsx)(u.MBj,{className:"ml-2 cursor-pointer rounded-full bg-stone-900 p-2 text-4xl text-gray-700"})]})]})},N=l(1809),y=l(324),g=l(3114),b=function(e){var t=e.element,l=e.file,n=e.togglePlay,a=e.player,r=e.hide,v=(0,d.n)(),p=v.playerState,h=v.setPlayerState,j=v.handleNext,N=v.handlePrev,b=(v.currentPlaying,v.handleLoop),w=(0,i.useState)(!1),P=w[0],Z=w[1],k=(0,y.Z)("(max-width: 500px)");return(0,i.useEffect)((function(){l.type.includes("audio")&&Z(!1)}),[l.type]),(0,s.jsxs)("div",{className:" bottom-0 flex w-full flex-col items-center justify-between bg-gradient-to-t\n     from-pink-600/30 to-pink-600/10 py-2 px-5 ".concat(P?"absolute duration-500":""," ").concat(r&&P?"opacity-0":"opcity-100"),children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between ",children:[(0,s.jsxs)("div",{className:"flex w-1/3 items-center justify-start overflow-hidden",children:[(0,s.jsx)("div",{onClick:function(){p.isMuted?(t.volume=p.volume/100,h((0,o.Z)((0,c.Z)({},p),{isMuted:!1}))):(t.volume=0,h((0,o.Z)((0,c.Z)({},p),{isMuted:!0})))},className:"cursor-pointer",children:p.isMuted?(0,s.jsx)(u.j6J,{title:"muted",className:"five:text-2xl"}):(0,s.jsx)(u.jZ7,{title:"volume",className:"five:text-2xl"})}),(0,s.jsx)(g.ZP,{min:0,sx:{width:100,marginLeft:2},max:100,size:"small",value:p.volume,onChange:function(e){return function(e){var l=Number(e.target.value);t.volume=l/100,h((0,o.Z)((0,c.Z)({},p),{isMuted:!1,volume:l}))}(e)},"aria-label":"Small",valueLabelDisplay:"auto"})]}),(0,s.jsxs)("div",{className:"flex w-1/3 items-center justify-center",children:[(0,s.jsx)(f.cLN,{title:"previous",onClick:N,className:"cursor-pointer text-sm five:text-xl"}),(0,s.jsx)("button",{onClick:n,className:" mx-3 cursor-pointer rounded-full border-2 p-1 five:p-2",children:p.isPlaying&&!t.paused?(0,s.jsx)(f.Wh,{title:"pause",className:"text-sm five:text-lg"}):(0,s.jsx)(f.gmG,{title:"play",className:"translate-x-[2px] five:text-lg"})}),(0,s.jsx)(f.uE0,{title:"Next",onClick:j,className:"cursor-pointer text-sm five:text-xl"})]}),(0,s.jsxs)("div",{className:"flex w-1/3 items-center justify-end",children:[(0,s.jsx)("div",{onClick:function(){return b(t)},className:"flex cursor-pointer text-lg five:text-2xl",children:"none"===p.loop?(0,s.jsx)(x.yoO,{title:"no repeat"}):"all"===p.loop?(0,s.jsx)(x.yoO,{title:"repeat playlist",className:"text-pink-600"}):(0,s.jsx)(x.fRQ,{title:"repeat this",className:"text-pink-600"})}),l.type.includes("video")&&(0,s.jsx)("div",{onClick:function(){p.isFullScreen&&document.fullscreenElement?(document.exitFullscreen(),h((0,o.Z)((0,c.Z)({},p),{isFullScreen:!1})),Z(!1)):(null===a||void 0===a||a.requestFullscreen(),Z(!0),h((0,o.Z)((0,c.Z)({},p),{isFullScreen:!0})))},className:"ml-4 cursor-pointer",children:P&&document.fullscreenElement?(0,s.jsx)(f.Al0,{title:"exit fullscreen",className:"cursor-pointer five:text-xl"}):(0,s.jsx)(u.QpC,{title:"fullscreen",className:"five:text-2xl"})})]})]}),(0,s.jsxs)("div",{className:"flex w-full items-center",children:[(0,s.jsx)("p",{className:"text-xs five:text-base",children:m(null===t||void 0===t?void 0:t.currentTime)}),(0,s.jsx)(g.ZP,{sx:{marginX:"2%"},size:k?"small":"medium",onChange:function(e){t.currentTime=Number(e.target.value)},min:0,max:Number.isNaN(null===t||void 0===t?void 0:t.duration)?0:null===t||void 0===t?void 0:t.duration,value:Number.isNaN(p.progress)?0:p.progress,"aria-label":"Small",valueLabelDisplay:"auto"}),(0,s.jsx)("p",{className:"text-xs five:text-base",children:m(null===t||void 0===t?void 0:t.duration)})]})]})},w=function(){var e=(0,i.useRef)(null),t=(0,i.useRef)(null),l=(0,N.Z)(i.useState(null===e||void 0===e?void 0:e.current),2),n=l[0],a=l[1],r=(0,i.useState)(!1),f=r[0],m=r[1],v=(0,i.useState)(0),p=v[0],h=v[1],j=(0,i.useRef)(null),y=(0,i.useState)({state:!1,timer:0}),g=y[0],w=y[1],P=(0,d.n)(),Z=P.playerState,k=P.setPlayerState,S=P.currentPlaying,C=(P.setCurrentPlaying,P.handleNext),E=S.file.type.includes("video"),M=null===e||void 0===e?void 0:e.current,T=function(){clearTimeout(g.timer),w((0,o.Z)((0,c.Z)({},g),{state:!0})),k((0,o.Z)((0,c.Z)({},Z),{isPlaying:!Z.isPlaying})),setTimeout((function(){w((0,o.Z)((0,c.Z)({},g),{state:!1}))}),1e3)},L=function(){var e=n.currentTime;k((0,o.Z)((0,c.Z)({},Z),{progress:e})),n.currentTime===n.duration&&C()};return(0,i.useEffect)((function(){console.log(null===e||void 0===e?void 0:e.current),a(null===e||void 0===e?void 0:e.current)}),[e]),(0,i.useEffect)((function(){Z.isPlaying?null===M||void 0===M||M.play():null===M||void 0===M||M.pause()}),[Z.isPlaying,M]),(0,i.useEffect)((function(){if(n)return null===n||void 0===n||n.play(),k((0,o.Z)((0,c.Z)({},Z),{isPlaying:!0})),function(){null===n||void 0===n||n.pause()}}),[n]),(0,i.useEffect)((function(){a(E?null===e||void 0===e?void 0:e.current:null===t||void 0===t?void 0:t.current)}),[S]),(0,i.useEffect)((function(){window.addEventListener("keydown",(function(e){console.log(e.code),"KeyD"===e.code&&(e.preventDefault(),T())}))}),[]),(0,s.jsxs)("div",{onMouseMove:function(){m(!1),clearTimeout(p);var e=setTimeout((function(){m(!0)}),2e3);h(e)},ref:j,className:"".concat(f&&"cursor-none","\n      player relative flex aspect-video h-full w-full flex-col text-white"),children:[(0,s.jsxs)("div",{onClick:T,className:"relative flex h-full w-full items-center justify-center",children:[E?(0,s.jsx)("video",{poster:"",id:"video",ref:e,autoPlay:!0,className:" my-auto max-h-full",src:S.url,onTimeUpdate:L}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex h-[50vh] w-full items-center justify-center bg-stone-800",children:(0,s.jsx)(x.ibD,{className:"text-[5em]"})}),(0,s.jsx)("audio",{onClick:T,className:"my-auto",ref:t,onTimeUpdate:L,src:S.url,autoPlay:!0})]}),g.state&&(0,s.jsx)("div",{className:"absolute top-0 left-0 flex h-full w-full items-center justify-center bg-black/10",children:(0,s.jsx)("div",{onClick:T,className:"flex items-center justify-center rounded-full bg-stone-800/50 p-2",children:Z.isPlaying?(0,s.jsx)(u.xBX,{className:"text-[3em]"}):(0,s.jsx)(u.PHf,{className:"ml-1 text-[3em]"})})})]}),(0,s.jsx)(b,{element:n,player:null===j||void 0===j?void 0:j.current,file:S.file,togglePlay:T,hide:f}),(0,s.jsxs)("p",{className:"absolute -bottom-9 px-3",children:[" ",S.file.name," "]})]})},P=l(2840),Z=function(){var e=(0,d.n)(),t=e.files,l=e.setFiles,n=(0,i.useState)(!1),a=n[0],r=n[1],f=function(e){var s=Array.from(e.target.files),i=t.concat(s);l(i)},x=function(e){var s=t.concat(e);l(s)};return(0,s.jsxs)("div",{className:"flex min-h-screen w-full flex-col",children:[(0,s.jsx)(j,{}),(0,s.jsxs)("div",{className:"flex h-[90vh] w-full flex-col overflow-auto pt-11 xtab:flex-row",children:[(0,s.jsx)("div",{className:"flex h-full flex-col items-center justify-center xtab:w-1/2",children:a?(0,s.jsx)("div",{className:"flex w-full items-center justify-center",children:(0,s.jsx)(w,{})}):(0,s.jsx)(P.ZP,{accept:{"audio/*":[],"video/*":[]},onDrop:x,multiple:!0,children:function(e){var t=e.getRootProps,l=e.getInputProps;return(0,s.jsxs)("div",(0,o.Z)((0,c.Z)({},t({className:"dropzone"})),{className:"flex h-full w-full items-center justify-center",children:[(0,s.jsxs)("label",{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)(u.UY3,{className:"text-[10em]"}),(0,s.jsx)("p",{className:"text-center",children:"Select a file or drag and drop multiple files here"})]}),(0,s.jsx)("input",(0,o.Z)((0,c.Z)({},l()),{multiple:!0,accept:"video/* , audio/*",type:"file",name:"",id:"files",hidden:!0,onChange:f}))]}))}})}),(0,s.jsx)("span",{className:"h-full w-[1px] bg-blue-400/10"}),(0,s.jsx)("div",{className:"flex h-full flex-col items-center p-4 xtab:w-1/2",children:0===t.length?(0,s.jsx)("p",{className:"flex h-full w-full items-center justify-center text-2xl",children:"No Selected files"}):(0,s.jsx)(P.ZP,{accept:{"audio/*":[],"video/*":[]},onDrop:x,multiple:!0,children:function(e){var l=e.getRootProps,i=e.getInputProps;return(0,s.jsxs)("div",(0,o.Z)((0,c.Z)({},l()),{onClick:function(){},className:"flex h-full w-full flex-col",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between px-4 py-2",children:[(0,s.jsx)("p",{className:"text-xl font-semibold text-pink-600",children:"Selected files"}),(0,s.jsxs)("label",{htmlFor:"files",className:"flex cursor-pointer items-center rounded-md bg-pink-700 px-2",children:[(0,s.jsx)("span",{className:"-translate-y-[1px] text-2xl",children:"+"}),(0,s.jsx)("span",{className:"ml-2",children:"ADD"})]}),(0,s.jsx)("input",(0,o.Z)((0,c.Z)({},i()),{multiple:!0,accept:"video/* , audio/*",type:"file",name:"",id:"files",hidden:!0,onChange:f}))]}),(0,s.jsx)("div",{className:"flex h-[80vh] w-full flex-col overflow-auto",children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,s.jsx)(p,{i:t,file:e,setShowPlayer:r},t)}))})]}))}})})]})]})},k=function(){(0,i.useEffect)((function(){var e=function(e,t){return alert(t)};return l.g.ipcRenderer.addListener("message",e),function(){l.g.ipcRenderer.removeListener("message",e)}}),[]);return(0,s.jsx)(r,{title:"Oneplay",children:(0,s.jsx)(Z,{})})}}},function(e){e.O(0,[997,969,794,340,774,888,179],(function(){return t=9536,e(e.s=t);var t}));var t=e.O();_N_E=t}]);